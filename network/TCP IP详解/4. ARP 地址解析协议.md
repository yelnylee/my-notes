# ARP 地址解析协议

* 引言

  什么是ARP协议？

  ARP为IP地址到对应的硬件地址之间提供动态映射。

  下图解释了为什么需要映射。

  ![地址映射](C:\Bing\工作日志\TCP IP\TCP IP详解\pic\地址映射.PNG)

  ARP协议可以用来做什么？

  ARP协议的实现？

* 一个例子

  用IP地址建立连接实际做了什么？？？？

  ARP协议如何实现IP地址到对应硬件地址之间动态映射的？
  通过广播ARP报文至以太网中主机上，询问它的IP地址是不是广播中的地址，如果是，响应报文，报文中包含IP地址和硬件地址的对应关系。

* ARP 高速缓存

  ARP 高速缓存是ARP高效运行的关键。

  高速缓存中存放了最近Internet 地址和硬件地址之间的映射记录。

  ```shell
  arp -a
  ```

  48bit 的以太网用6个十六进制的数来表示，中间以冒号隔开

* ARP 的分组格式

  ARP报文的封装

* ARP 举例

  * tcpdump命令

    为什么tcpdump命令没有输出？

  * 一般的例子

  * 对不存在的主机的ARP请求

  * ARP高速缓存超时设置

* ARP 代理

  ARP代理可以解决什么问题？

  ARP请求从一个网络的主机发往另一个网络的主机，

* 免费ARP

  * 免费ARP用途
    * 一个主机可以通过它来确定另一个主机是否设置了相同的IP地址
    * 如果发送免费ARP的主机正好改变了硬件地址，那么这个分组就可以是其他主机高速缓存中旧的硬件地址相应非更新。

  

* arp 命令

* 小结